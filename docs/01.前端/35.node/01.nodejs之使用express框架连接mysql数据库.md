---
title: nodejs之使用express框架连接mysql数据库
date: 2020-04-08 11:10:41
permalink: /pages/97a9e6/
categories:
  - 前端
  - node
tags:
  - express
  - mysql
author: 
  name: zhangzuying
  link: https://zhangzuying.github.io/
---
```javascript
var express = require('express');
var router = express.Router();
var url = require('url');
var mysql = require('mysql');
//配置模块
var settings = require('../DbConnection/dbconnection');
//连接数据库
var connection = mysql.createConnection(settings.db);
connection.connect();
router.get('/', function (req, res, next) {
    var params = url.parse(req.url, true).query;
    console.log("id" + params.id);
    var sql = "select * from product";
    connection.query(sql, function (error, data) {
        console.log(error);
        if (error) {
            var result = {
                "status": "500",
                "message": "服务器错误"
            }
            return res.jsonp(result);
        }
        else{
            var result = {
                "status": "200",
                "message": "success",
                data:data
            }
            return res.jsonp(result);
        }
    })
});
module.exports = router;
```
![image](../../.vuepress/public/img/node1-1.png)
